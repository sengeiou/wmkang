;              
CREATE USER IF NOT EXISTS "SA" SALT 'bef388dd67eb2506' HASH '83b246c3d6ba704f7384db93cb85d63ea16c8cc061b143ef4d21462c3261f555' ADMIN;          
CREATE SEQUENCE "PUBLIC"."SYSTEM_SEQUENCE_287AA305_06CB_421A_9FF6_3060F25D037C" START WITH 2 BELONGS_TO_TABLE; 
CREATE SEQUENCE "PUBLIC"."SYSTEM_SEQUENCE_297B2716_0EB8_4D85_9AAE_07278E8F6CF8" START WITH 2 BELONGS_TO_TABLE; 
CREATE SEQUENCE "PUBLIC"."SYSTEM_SEQUENCE_40EDFDA7_41E6_4971_BF0A_F08687357BF7" START WITH 1 BELONGS_TO_TABLE; 
CREATE CACHED TABLE "PUBLIC"."AUDIT_HISTORY"(
    "SEQ_NO" BIGINT DEFAULT NEXT VALUE FOR "PUBLIC"."SYSTEM_SEQUENCE_297B2716_0EB8_4D85_9AAE_07278E8F6CF8" NOT NULL NULL_TO_DEFAULT SEQUENCE "PUBLIC"."SYSTEM_SEQUENCE_297B2716_0EB8_4D85_9AAE_07278E8F6CF8",
    "ACTION" CHAR(1),
    "ACTOR" INTEGER,
    "API" VARCHAR(255),
    "ARGS" TEXT,
    "TIME" TIMESTAMP
);        
ALTER TABLE "PUBLIC"."AUDIT_HISTORY" ADD CONSTRAINT "PUBLIC"."CONSTRAINT_E" PRIMARY KEY("SEQ_NO");             
-- 1 +/- SELECT COUNT(*) FROM PUBLIC.AUDIT_HISTORY;            
INSERT INTO "PUBLIC"."AUDIT_HISTORY" VALUES
(1, 'C', 1, 'T01', '{"taskDto":{"title":"1","completed":false}}', TIMESTAMP '2021-04-26 17:06:24.35419');          
CREATE CACHED TABLE "PUBLIC"."PRIOR_TASKS"(
    "REF_ID" INTEGER NOT NULL,
    "SRC_ID" INTEGER NOT NULL
);    
ALTER TABLE "PUBLIC"."PRIOR_TASKS" ADD CONSTRAINT "PUBLIC"."CONSTRAINT_B" PRIMARY KEY("REF_ID", "SRC_ID");     
-- 0 +/- SELECT COUNT(*) FROM PUBLIC.PRIOR_TASKS;              
CREATE CACHED TABLE "PUBLIC"."TASK"(
    "TASK_ID" INTEGER DEFAULT NEXT VALUE FOR "PUBLIC"."SYSTEM_SEQUENCE_287AA305_06CB_421A_9FF6_3060F25D037C" NOT NULL NULL_TO_DEFAULT SEQUENCE "PUBLIC"."SYSTEM_SEQUENCE_287AA305_06CB_421A_9FF6_3060F25D037C",
    "CREATE_DT" TIMESTAMP,
    "CREATOR" INTEGER,
    "MODIFY_DT" TIMESTAMP,
    "MODIFIER" INTEGER,
    "COMPLETED" BOOLEAN,
    "TITLE" VARCHAR(255) NOT NULL
);        
ALTER TABLE "PUBLIC"."TASK" ADD CONSTRAINT "PUBLIC"."CONSTRAINT_2" PRIMARY KEY("TASK_ID");     
-- 1 +/- SELECT COUNT(*) FROM PUBLIC.TASK;     
INSERT INTO "PUBLIC"."TASK" VALUES
(1, TIMESTAMP '2021-04-26 17:06:24.339416', 1, TIMESTAMP '2021-04-26 17:06:24.339416', 1, FALSE, '1');      
CREATE CACHED TABLE "PUBLIC"."UPLOAD_FILE"(
    "FILE_NO" BIGINT DEFAULT NEXT VALUE FOR "PUBLIC"."SYSTEM_SEQUENCE_40EDFDA7_41E6_4971_BF0A_F08687357BF7" NOT NULL NULL_TO_DEFAULT SEQUENCE "PUBLIC"."SYSTEM_SEQUENCE_40EDFDA7_41E6_4971_BF0A_F08687357BF7",
    "CREATE_DT" TIMESTAMP,
    "CREATOR" INTEGER,
    "CATEGORY" VARCHAR(255),
    "FILE_ID" VARCHAR(255),
    "FILE_NAME" VARCHAR(255),
    "PATH" VARCHAR(255)
); 
ALTER TABLE "PUBLIC"."UPLOAD_FILE" ADD CONSTRAINT "PUBLIC"."CONSTRAINT_C" PRIMARY KEY("FILE_NO");              
-- 0 +/- SELECT COUNT(*) FROM PUBLIC.UPLOAD_FILE;              
ALTER TABLE "PUBLIC"."PRIOR_TASKS" ADD CONSTRAINT "PUBLIC"."FKEKOM9WJ28ITLOPPAE1NT8C1SC" FOREIGN KEY("SRC_ID") REFERENCES "PUBLIC"."TASK"("TASK_ID") NOCHECK;  
ALTER TABLE "PUBLIC"."PRIOR_TASKS" ADD CONSTRAINT "PUBLIC"."FKJHKQLSQ7LMMY224FHUX2JG034" FOREIGN KEY("REF_ID") REFERENCES "PUBLIC"."TASK"("TASK_ID") NOCHECK;  
